" onehalfdarkの微調整
function! s:config_onehalfdark()
  hi clear SpellBad
  hi SpellBad gui=undercurl cterm=underline guisp=RED
  hi clear SpellCap
  hi SpellCap gui=undercurl cterm=underline guisp=Yellow
  hi clear Ignore
  hi link Ignore Comment
endfunction
autocmd colorscheme onehalfdark call s:config_onehalfdark()
colorscheme onehalfdark

" ファイラー
let g:NERDTreeQuitOnOpen = 1
nnoremap <silent><C-e> :NERDTreeToggle<CR>


"非同期のコードチェッカー{
let g:ale_completion_enabled = 1
let g:ale_lint_on_save = 1
let g:ale_sign_column_always = 1
let g:ale_fix_on_save = 1

"見た目のカスタマイズ
let g:airline#extensions#tabline#enabled = 1
let g:airline#extensions#tabline#left_sep = ' '
let g:airline#extensions#tabline#left_alt_sep = '|'
let g:airline#extensions#tabline#formatter = 'unique_tail'
nmap <Tab> <Plug>AirlineSelectNextTab
nmap <S-Tab> <Plug>AirlineSelectPrevTab

"vim-lspの設定
setlocal omnifunc=lsp#complete
let g:lsp_diagnostics_enabled = 0 " エラー表示はALEで行う
let g:asyncomplete_auto_popup = 1
let g:asyncomplete_auto_completeopt = 0
let g:asyncomplete_popup_delay = 10

"yara用設定
function! s:config_yara()
  packadd vim-syntax-yara
endfunction
autocmd BufNewFile,BufRead *.yar,*.yara setlocal filetype=yara
autocmd FileType yara call s:config_yara()

" markdown用設定
function! s:config_markdown()
  let g:previm_open_cmd='start'
  packadd vim-markdown
  packadd previm 
endfunction
autocmd BufRead,BufNewFile *.md  set filetype=markdown
autocmd FileType markdown call s:config_markdown()

" python用設定
function! s:config_python()
  let b:ale_fixers = ['autopep8']
endfunction
autocmd FileType python call s:config_python()

" typescript用設定
function! s:config_typescript()
  packadd typescript-vim
  syn on
endfunction
autocmd BufRead,BufNewFile *.ts setlocal filetype=typescript
autocmd FileType typescript call s:config_typescript()
